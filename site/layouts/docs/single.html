{{ $page_resources := .Resources }}
{{ $overview_scrollspy_file_exists := fileExists (printf
  "/content/%s/ss.html" .File.Dir)
}}
{{ $api_file_exists := fileExists (printf "/content/%s/a.html" .File.Dir) }}
{{ $api_scrollspy_file_exists := fileExists (printf "/content/%s/a-ss.html" .File.Dir) }}

<!-- Single for all single page under /docs/* -->
<!DOCTYPE html>
<html lang="{{ .Language.Lang }}">
  <head>
    {{ partial "head/head.html" . }}
  </head>
  <body class="dark:bg-zinc-800">
    {{ partial "header/header.html" . }}

    <div class="container mx-auto mt-4 pt-12">
      <div class="flex">
        <div
          id="sidebar"
          class="tex-left absolute inset-y-0 left-0 z-40 w-full -translate-x-full transform bg-white pr-4 transition duration-200 ease-in-out dark:bg-zinc-800 sm:w-3/12 md:relative md:translate-x-0 lg:w-1/5">
          {{ partial "sidenav/standard.html" . }}
        </div>

        <div class="w-full px-4">
          <ul id="docs-nav-pills" class="flex mx-4 mb-4" role="tablist" data-te-nav-ref>
            <li>
              <a
                id="docs-tab-overview"
                class="bg-[#f3f4f6] dark:bg-gray-600 text-[#4b5563] shadow-none font-medium text-xs leading-tight uppercase rounded px-6 py-3 my-2 md:mr-2 focus:outline-none focus:ring-0 data-[te-nav-active]:!bg-[#2563eb] data-[te-nav-active]:!text-white dark:text-white data-[te-nav-active]:shadow-[0_4px_6px_-1px_#0000001a,0_2px_4px_-1px_#0000000f]"
                href="#docsTabsOverview"
                role="tab"
                data-te-toggle="pill"
                data-te-target="#docsTabsOverview"
                data-te-nav-active
                >Overview</a
              >
            </li>

            {{ if $api_file_exists }}
            <li>
                <a
                  id="docs-tab-api"
                  class="bg-[#f3f4f6] dark:bg-gray-600 text-[#4b5563] shadow-none font-medium text-xs leading-tight uppercase rounded px-6 py-3 my-2 md:mr-2 focus:outline-none focus:ring-0 data-[te-nav-active]:!bg-[#2563eb] data-[te-nav-active]:!text-white dark:text-white data-[te-nav-active]:shadow-[0_4px_6px_-1px_#0000001a,0_2px_4px_-1px_#0000000f]"
                  href="#docsTabsAPI"
                  data-te-toggle="pill"
                  data-te-target="#docsTabsAPI"
                  role="tab"
                  >API</a
                >
            </li>
            {{ end }}
          </ul>

          <!-- Right column -->
          <div
            id="docsTabsOverview"
            role="tabpanel"
            class="w-full justify-between px-4 transition-opacity opacity-0 opacity-100 duration-150 ease-linear hidden data-[te-tab-active]:flex mb-8"
            role="tabpanel"
            aria-labelledby="docs-tab-overview-tab"
            data-te-tab-active
          >
            <div class="flex flex-col">
              <h1 class="mt-0 text-5xl font-bold leading-normal">
                {{ .Params.main_title }}
              </h1>
              <p class="text-gray-500 dark:text-gray-300">
                {{ .Params.description }}
              </p>

              <hr class="my-12" />
              <main>{{ .Content }}</main>
            </div>
          
            <!-- Sidebar  -->

            <div class="hidden px-4 lg:block lg:w-2/5">
              <menu class="sticky top-10">
                <style>
                  .dc-content-animation {
                    height: 20px;
                    width: 50%;
                    display: inline-block;
                    animation: placeholderPulse 1s infinite ease-in-out;
                    -webkit-animation: placeholderPulse 1s infinite ease-in-out;
                  }
                  @keyframes placeholderPulse {
                    0% {
                      background-color: rgba(133, 214, 251, 0.1);
                      color: rgba(133, 214, 251, 0.1);
                    }
                    50% {
                      background-color: rgba(133, 214, 251, 0.3);
                      color: rgba(133, 214, 251, 0.3);
                    }
                    100% {
                      background-color: rgba(133, 214, 251, 0.1);
                      color: rgba(133, 214, 251, 0.1);
                    }
                  }
                  .ps.nav {
                    flex-wrap: nowrap;
                    position: relative;
                  }
                </style>

                <div
                  class="animation fade-in relative mb-4 hidden xl:block"
                  id="dpl-gtm-scroll"
                  style="min-height: 170px; animation-delay: 0ms; animation-duration: 500ms">
                  <div class="w-100 justify-content-center absolute w-full">
                    <div
                      class="border-info shadow-3 overflow-hidden rounded border"
                      style="border-color: rgba(133, 214, 251, 0.3) !important">
                      <span
                        class="dc-content-animation mx-2 mb-2 mt-3"
                        style="width: 40%"></span>
                      <span
                        class="dc-content-animation mx-2 mb-1"
                        style="width: 70%"></span>
                      <span class="dc-content-animation mx-2 mb-1"></span>
                      <span
                        class="dc-content-animation mx-2 mb-1"
                        style="width: 80%"></span>
                      <span
                        class="dc-content-animation mx-2 mb-1"
                        style="width: 70%"></span>
                    </div>
                  </div>
                  <!-- Alert -->
                  <div
                    id="gtmDC-scroll-all"
                    class="relative"
                    style="min-height: 1px; min-width: 1px">
                  </div>
                  <!-- Alert -->
                </div>

                <ul class="dark:text-gray-200">
                  {{ with .Resources.GetMatch "ss.html" }}{{ .Content }}{{ end }}
                </ul>
              </menu>
            </div>

            {{ if $api_file_exists }}
              <div
                id="docsTabsAPI"
                class="w-full justify-between px-4 transition-opacity opacity-0 duration-150 ease-linear hidden data-[te-tab-active]:flex mb-8"
                role="tabpanel"
                aria-labelledby="docs-tab-api-tab"
              >
                <div class="flex flex-col">
                  <h1 class="mt-0 text-5xl font-bold leading-normal">
                    {{ .Params.main_title }} - API
                  </h1>
                  
                  <hr class="my-10" />
                  <main>
                    {{ with $page_resources.GetMatch "a.html" }}
                        {{.Content}}
                    {{ end }}
                  </main>
                </div>
                <!-- Sidebar  -->

                <div class="hidden px-4 lg:block lg:w-2/5">
                  <menu class="sticky top-10">
                    <style>
                      .dc-content-animation {
                        height: 20px;
                        width: 50%;
                        display: inline-block;
                        animation: placeholderPulse 1s infinite ease-in-out;
                        -webkit-animation: placeholderPulse 1s infinite ease-in-out;
                      }
                      @keyframes placeholderPulse {
                        0% {
                          background-color: rgba(133, 214, 251, 0.1);
                          color: rgba(133, 214, 251, 0.1);
                        }
                        50% {
                          background-color: rgba(133, 214, 251, 0.3);
                          color: rgba(133, 214, 251, 0.3);
                        }
                        100% {
                          background-color: rgba(133, 214, 251, 0.1);
                          color: rgba(133, 214, 251, 0.1);
                        }
                      }
                      .ps.nav {
                        flex-wrap: nowrap;
                        position: relative;
                      }
                    </style>

                    <div
                      class="animation fade-in relative mb-4 hidden xl:block"
                      id="dpl-gtm-scroll"
                      style="min-height: 170px; animation-delay: 0ms; animation-duration: 500ms">
                      <div class="w-100 justify-content-center absolute w-full">
                        <div
                          class="border-info shadow-3 overflow-hidden rounded border"
                          style="border-color: rgba(133, 214, 251, 0.3) !important">
                          <span
                            class="dc-content-animation mx-2 mb-2 mt-3"
                            style="width: 40%"></span>
                          <span
                            class="dc-content-animation mx-2 mb-1"
                            style="width: 70%"></span>
                          <span class="dc-content-animation mx-2 mb-1"></span>
                          <span
                            class="dc-content-animation mx-2 mb-1"
                            style="width: 80%"></span>
                          <span
                            class="dc-content-animation mx-2 mb-1"
                            style="width: 70%"></span>
                        </div>
                      </div>
                      <!-- Alert -->
                      <div
                        id="gtmDC-scroll-all"
                        class="relative"
                        style="min-height: 1px; min-width: 1px">
                      </div>
                      <!-- Alert -->
                    </div>

                  <!-- {{ if $api_scrollspy_file_exists }} -->
                    <ul class="dark:text-gray-200">
                      {{ with .Resources.GetMatch "a-ss.html" }}{{ .Content }}{{ end }}
                    </ul>
                  <!-- {{ end }} -->
                </div>
              </div>
            {{ end }}
          </div> <!--zamyka-->
        </div> <!--zamyka-->
      </div> <!--zamyka-->
    </div> <!--zamyka-->

    {{ partial "footer/footer-docs.html" . }}
  </body>
</html>
